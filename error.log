{"level":"error","service":"authentication"}
{"level":"error","service":"authentication"}
{"message":{"err":{}},"level":"error","service":"authentication"}
{"message":{"err":{}},"level":"error","service":"authentication"}
{"message":{"err":{"name":"SequelizeDatabaseError","parent":{"length":111,"name":"error","severity":"ERROR","code":"42703","position":"290","file":"parse_relation.c","line":"3294","routine":"errorMissingColumn","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";","parameters":["test@test.com","$2a$12$IbxiLLNh6RGtiJQLTt94aOG9dCWPTQO9A6//JGch7vFjZ8r4ZHjAS","admin","Artem","Kozel",null,"2020-09-20 13:34:44.482 +00:00","2020-09-20 13:34:44.482 +00:00"]},"original":{"length":111,"name":"error","severity":"ERROR","code":"42703","position":"290","file":"parse_relation.c","line":"3294","routine":"errorMissingColumn","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";","parameters":["test@test.com","$2a$12$IbxiLLNh6RGtiJQLTt94aOG9dCWPTQO9A6//JGch7vFjZ8r4ZHjAS","admin","Artem","Kozel",null,"2020-09-20 13:34:44.482 +00:00","2020-09-20 13:34:44.482 +00:00"]},"sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";","parameters":["test@test.com","$2a$12$IbxiLLNh6RGtiJQLTt94aOG9dCWPTQO9A6//JGch7vFjZ8r4ZHjAS","admin","Artem","Kozel",null,"2020-09-20 13:34:44.482 +00:00","2020-09-20 13:34:44.482 +00:00"]}},"level":"error","service":"authentication"}
{"message":{"err":{}},"level":"error","service":"authentication"}
{"message":{"err":{"name":"SequelizeUniqueConstraintError","errors":[{"message":"email must be unique","type":"unique violation","path":"email","value":"test@test.com","origin":"DB","instance":{"verifyPassword":{},"toResponse":{"id":null,"email":"test@test.com","roles":["admin"],"first_name":"Artem","last_name":"Kozel","image_url":null},"created_at":{"val":"CURRENT_TIMESTAMP"},"updated_at":{"val":"CURRENT_TIMESTAMP"},"id":null,"email":"test@test.com","password":"$2a$12$nEXJLq0BL0cDgKXUtxOi4OXR4h7YbzfIiCyy/p/Pma3Dygw2QwTGO","roles":"admin","first_name":"Artem","last_name":"Kozel","image_url":null,"updatedAt":"2020-09-20T13:38:34.831Z","createdAt":"2020-09-20T13:38:34.831Z"},"validatorKey":"not_unique","validatorName":null,"validatorArgs":[]}],"fields":{"email":"test@test.com"},"parent":{"length":205,"name":"error","severity":"ERROR","code":"23505","detail":"Key (email)=(test@test.com) already exists.","schema":"public","table":"users","constraint":"users_email_key","file":"nbtinsert.c","line":"534","routine":"_bt_check_unique","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";","parameters":["test@test.com","$2a$12$nEXJLq0BL0cDgKXUtxOi4OXR4h7YbzfIiCyy/p/Pma3Dygw2QwTGO","admin","Artem","Kozel",null,"2020-09-20 13:38:34.831 +00:00","2020-09-20 13:38:34.831 +00:00"]},"original":{"length":205,"name":"error","severity":"ERROR","code":"23505","detail":"Key (email)=(test@test.com) already exists.","schema":"public","table":"users","constraint":"users_email_key","file":"nbtinsert.c","line":"534","routine":"_bt_check_unique","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";","parameters":["test@test.com","$2a$12$nEXJLq0BL0cDgKXUtxOi4OXR4h7YbzfIiCyy/p/Pma3Dygw2QwTGO","admin","Artem","Kozel",null,"2020-09-20 13:38:34.831 +00:00","2020-09-20 13:38:34.831 +00:00"]},"sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5,$6,$7,$8) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";"}},"level":"error","service":"authentication"}
{"level":"error","service":"auth-ctrl"}
{"service":"auth-ctrl","level":"error","message":"Error while login userRecord.verifyPassword is not a function","stack":"TypeError: userRecord.verifyPassword is not a function\n    at loginUser (/Users/user/private/planning-poker/server/services/auth.js:74:44)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"auth-ctrl","level":"error","message":"Error while login Illegal arguments: string, undefined","stack":"Error: Illegal arguments: string, undefined\n    at _async (/Users/user/private/planning-poker/node_modules/bcryptjs/dist/bcrypt.js:286:46)\n    at /Users/user/private/planning-poker/node_modules/bcryptjs/dist/bcrypt.js:307:17\n    at new Promise (<anonymous>)\n    at Object.bcrypt.compare (/Users/user/private/planning-poker/node_modules/bcryptjs/dist/bcrypt.js:306:20)\n    at verifyPassword (/Users/user/private/planning-poker/server/services/auth.js:36:53)\n    at loginUser (/Users/user/private/planning-poker/server/services/auth.js:77:33)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"auth-ctrl","level":"error","message":"Error while login userRecord.toResponse is not a function","stack":"TypeError: userRecord.toResponse is not a function\n    at loginUser (/Users/user/private/planning-poker/server/services/auth.js:84:22)"}
{"service":"auth-ctrl","name":"SequelizeUniqueConstraintError","errors":[{"message":"email must be unique","type":"unique violation","path":"email","value":"test@test.com","origin":"DB","instance":{"created_at":{"val":"CURRENT_TIMESTAMP"},"updated_at":{"val":"CURRENT_TIMESTAMP"},"id":null,"email":"test@test.com","password":"$2a$12$jKxJ6Ml9Ly07AggiD.vG9.3iibNhYpxKYdQGzyX9RhlmPh43rK7Hm","roles":"anonymous","updatedAt":"2020-09-20T14:49:18.289Z","createdAt":"2020-09-20T14:49:18.289Z"},"validatorKey":"not_unique","validatorName":null,"validatorArgs":[]}],"fields":{"email":"test@test.com"},"parent":{"length":205,"name":"error","severity":"ERROR","code":"23505","detail":"Key (email)=(test@test.com) already exists.","schema":"public","table":"users","constraint":"users_email_key","file":"nbtinsert.c","line":"534","routine":"_bt_check_unique","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";","parameters":["test@test.com","$2a$12$jKxJ6Ml9Ly07AggiD.vG9.3iibNhYpxKYdQGzyX9RhlmPh43rK7Hm","anonymous","2020-09-20 14:49:18.289 +00:00","2020-09-20 14:49:18.289 +00:00"]},"original":{"length":205,"name":"error","severity":"ERROR","code":"23505","detail":"Key (email)=(test@test.com) already exists.","schema":"public","table":"users","constraint":"users_email_key","file":"nbtinsert.c","line":"534","routine":"_bt_check_unique","sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";","parameters":["test@test.com","$2a$12$jKxJ6Ml9Ly07AggiD.vG9.3iibNhYpxKYdQGzyX9RhlmPh43rK7Hm","anonymous","2020-09-20 14:49:18.289 +00:00","2020-09-20 14:49:18.289 +00:00"]},"sql":"INSERT INTO \"users\" (\"id\",\"email\",\"password\",\"roles\",\"created_at\",\"updated_at\") VALUES (DEFAULT,$1,$2,$3,$4,$5) RETURNING \"id\",\"email\",\"password\",\"roles\",\"first_name\",\"last_name\",\"image_url\",\"created_at\",\"updated_at\",\"created_at\",\"updated_at\",\"deleted_at\";","level":"error","message":"Error while sign up Validation error","stack":"SequelizeUniqueConstraintError: Validation error\n    at Query.formatError (/Users/user/private/planning-poker/node_modules/sequelize/lib/dialects/postgres/query.js:344:18)\n    at Query.run (/Users/user/private/planning-poker/node_modules/sequelize/lib/dialects/postgres/query.js:87:18)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"auth-ctrl","level":"error","message":"Error while login Incorrect password email: pos_mpp","stack":"Error: Incorrect password email: pos_mpp\n    at loginUser (/Users/user/private/planning-poker/server/services/auth.js:88:11)"}
